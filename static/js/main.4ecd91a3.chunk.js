(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(7),r=a.n(l),s=(a(14),a(1)),o=a(2),c=a(3),u=a(5),m=a(4),h=(a(15),a(16),a(8)),d=Object.freeze({BOMB:"bomb",EMPTY:"empty"}),E=Object.freeze({COVERED:"covered",FLAGGED:"flagged",REVEALED:"revealed",EXPLODED:"exploded"}),b=Object.freeze({PLAYING:"playing",LOSS:"loss",WIN:"win"}),v=Object.freeze({BEGINNER:"Beginner",INTERMEDIATE:"Intermediate",EXPERT:"Expert",CUSTOM:"Custom"}),f=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.EMPTY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.COVERED;Object(o.a)(this,e),this.value=t,this.state=a},p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;Object(o.a)(this,e),this.rows=t,this.cols=a,this.bombCount=n,this.gameState=b.PLAYING,this.bombField=[],this.bombs=[],this.firstMoveMade=!1;for(var i=0;i<t;i++){for(var l=[],r=0;r<a;r++)l.push(new f);this.bombField.push(l)}}return Object(c.a)(e,[{key:"validRow",value:function(e){return e>=0&&e<this.rows}},{key:"validCol",value:function(e){return e>=0&&e<this.cols}},{key:"getAdjacentCells",value:function(e,t){if(!this.validRow(e)||!this.validCol(t))return-1;var a=[],n=e-1,i=e+1,l=t-1,r=t+1;return this.validRow(n)&&(this.validCol(l)&&a.push([n,l]),this.validCol(r)&&a.push([n,r]),a.push([n,t])),this.validRow(i)&&(this.validCol(l)&&a.push([i,l]),this.validCol(r)&&a.push([i,r]),a.push([i,t])),this.validCol(l)&&a.push([e,l]),this.validCol(r)&&a.push([e,r]),a}},{key:"checkForWin",value:function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.cols;t++){var a=this.bombField[e][t];if(a.value!==d.BOMB&&a.state!==E.REVEALED)return!1}return!0}},{key:"copy",value:function(){var t=new e(this.rows,this.cols,this.bombCount);t.gameState=this.gameState,t.bombs=[];for(var a=0;a<this.bombs.length;a++)t.bombs.push(Object(h.a)(this.bombs[a]));for(var n=0;n<this.rows;n++)for(var i=0;i<this.cols;i++)t.bombField[n][i].value=this.bombField[n][i].value,t.bombField[n][i].state=this.bombField[n][i].state;return t.firstMoveMade=this.firstMoveMade,t}}],[{key:"safeConstructor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.BEGINNER,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(t===v.BEGINNER)a=9,n=9,i=10;else if(t===v.INTERMEDIATE)a=16,n=16,i=40;else if(t===v.EXPERT)a=16,n=30,i=99;else{if(t!==v.CUSTOM)return 0;if(a<=0||n<=0||i<=0||a*n<=i)return-1}return new e(a,n,i)}},{key:"validInput",value:function(t,a,n){return t instanceof e&&t.validRow(a)&&t.validCol(n)}},{key:"sweep",value:function(e,t,a){if(!this.validInput(e,t,a))return 0;if(e.gameState!==b.PLAYING||e.bombField[t][a].state===E.REVEALED||e.bombField[t][a].state===E.FLAGGED)return-1;var n=e.copy();if(!n.firstMoveMade){for(var i=0;i<n.rows;i++)for(var l=0;l<n.cols;l++)n.bombField[i][l].state=E.COVERED;for(;n.bombs.length<n.bombCount;){var r=Math.floor(Math.random()*n.rows),s=Math.floor(Math.random()*n.cols);if(r!==t&&s!==a&&n.bombField[r][s].value!==d.BOMB)n.bombField[r][s].value=d.BOMB,n.bombs.push([r,s]),n.getAdjacentCells(r,s).forEach((function(e){var t=n.bombField[e[0]][e[1]];t.value===d.EMPTY?t.value=1:t.value!==d.BOMB&&t.value++}))}n.firstMoveMade=!0}var o=n.bombField[t][a];if(o.value===d.BOMB){o.state=E.EXPLODED,n.gameState=b.LOSS,n.bombs.forEach((function(e){var t=n.bombField[e[0]][e[1]];t.state===E.COVERED&&(t.state=E.REVEALED)}))}else{if(o.state=E.REVEALED,o.value===d.EMPTY)for(var c=n.getAdjacentCells(t,a),u=0;u<c.length;u++){var m=c[u][0],h=c[u][1],v=n.bombField[m][h];if(v.value!==d.BOMB&&(v.state=E.REVEALED,v.value===d.EMPTY))for(var f=n.getAdjacentCells(m,h),p=0;p<f.length;p++){var g=f[p][0],S=f[p][1],C=n.bombField[g][S];C.state===E.REVEALED||C.state===E.FLAGGED||C.value===d.BOMB?(f.splice(p,1),p--):c.push([g,S])}}n.checkForWin()&&(n.gameState=b.WIN)}return n}},{key:"flag",value:function(e,t,a){if(!this.validInput(e,t,a))return 0;if(e.gameState!==b.PLAYING||e.bombField[t][a].state===E.REVEALED)return-1;var n=e.copy(),i=n.bombField[t][a];return i.state===E.COVERED?i.state=E.FLAGGED:i.state===E.FLAGGED&&(i.state=E.COVERED),n}}]),e}(),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("button",{className:this.props.tileClass,onClick:this.props.onClick,onContextMenu:this.props.onClick,disabled:this.props.disabled},i.a.createElement("div",{className:this.props.innerTile},this.props.value))}}]),a}(i.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderTile",value:function(e,t){var a=this,n=this.props.bombField[e][t],l="",r="tile",s="",o=!1;if(this.props.gameState!==b.PLAYING&&(o=!0),n.state===E.FLAGGED)s="flag",r+=" covered";else if(n.state===E.EXPLODED)r+=" exploded",s="bomb",o=!0;else if(n.state===E.COVERED)r+=" covered";else switch(r+=" revealed",o=!0,s="number",l=n.value,n.value){case d.EMPTY:s="",l="";break;case d.BOMB:s="bomb",l="";break;case 1:s+=" one";break;case 2:s+=" two";break;case 3:s+=" three";break;case 4:s+=" four";break;case 5:s+=" five";break;case 6:s+=" six";break;case 7:s+=" seven";break;case 8:s+=" eight";break;default:console.log()}return i.a.createElement(g,{tileClass:r,innerTile:s,value:l,onClick:function(n){return a.props.onClick(n,e,t)},disabled:o})}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.rows;t++){for(var a=[],n=0;n<this.props.cols;n++)a.push(i.a.createElement("div",{key:n,className:"cell"},this.renderTile(t,n)));e.push(i.a.createElement("div",{key:t,className:"board-row"},a))}return i.a.createElement("div",{className:"board"},e)}}]),a}(i.a.Component),C=Object.freeze({DEVELOPMENT:"Development",HOW_TO_PLAY:"How to Play",NEW_GAME_SETTINGS:"New Game Settings"}),N=Object.freeze({SWEEP:"sweep",FLAG:"flag"}),w=Object.freeze({NEUTRAL:"neutral",OPEN_MOUTH:"open mouth",SCREAM:"scream",SMILE:"smile",SMILE_SUNGLASSES:"smile with sunglasses"}),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={gameState:p.safeConstructor(),rowInput:9,colInput:9,bombInput:10,difficulty:v.BEGINNER,sidebarOpen:!1,sidebarPanel:C.HOW_TO_PLAY,timer:0,activeTimer:!1,timerFunc:null,flagCounter:10,clickState:N.SWEEP,emojiState:w.NEUTRAL},n.handleSliderChange=n.handleSliderChange.bind(Object(s.a)(n)),n.handleDifficultyButton=n.handleDifficultyButton.bind(Object(s.a)(n)),n.handleNewGameButton=n.handleNewGameButton.bind(Object(s.a)(n)),n.handleEmojiButton=n.handleEmojiButton.bind(Object(s.a)(n)),n.handleSidebarPanelSwitch=n.handleSidebarPanelSwitch.bind(Object(s.a)(n)),n.toggleSidebar=n.toggleSidebar.bind(Object(s.a)(n)),n.toggleClickState=n.toggleClickState.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"handleSliderChange",value:function(e){var t=e.target;"rowInput"===t.id?this.setState({rowInput:t.value}):"colInput"===t.id?this.setState({colInput:t.value}):"bombInput"===t.id?this.setState({bombInput:t.value}):console.log("Unintended event!"),this.setState({difficulty:v.CUSTOM})}},{key:"handleDifficultyButton",value:function(e){var t=e.target.value;t===v.BEGINNER?this.setState({rowInput:9,colInput:9,bombInput:10,difficulty:v.BEGINNER}):t===v.INTERMEDIATE?this.setState({rowInput:16,colInput:16,bombInput:40,difficulty:v.INTERMEDIATE}):t===v.EXPERT?this.setState({rowInput:16,colInput:30,bombInput:99,difficulty:v.EXPERT}):console.log("Unintended event for difficulty selector!")}},{key:"handleNewGameButton",value:function(e){var t=!0;if(this.state.gameState.gameState===b.PLAYING&&(t=window.confirm("Currently playing a game! Are you sure you want to create a new game?")),t){var a=p.safeConstructor(this.state.difficulty,this.state.rowInput,this.state.colInput,this.state.bombInput);if(-1===a)return console.log("Invalid input for either rows, columns, or bombs!"),void alert("Could not create new game! Number of bombs exceeds number of possible spaces! Lower bomb count or increase the number of rows/columns.");if(0===a)return void console.log("Invalid difficulty input!");clearInterval(this.state.timerFunc),this.setState({gameState:a,timer:0,activeTimer:!1,timerFunc:null,flagCounter:this.state.bombInput,emojiState:w.NEUTRAL})}}},{key:"handleBoardClick",value:function(e,t,a){var n=this;e.preventDefault();var i=this.state.gameState;if(i.gameState===b.PLAYING){var l,r=w.SMILE;if("click"===e.type&&this.state.clickState===N.SWEEP)l=p.sweep(i,t,a),this.state.activeTimer||l.gameState!==b.PLAYING||this.setState({activeTimer:!0,timerFunc:setInterval((function(){return n.tick()}),1e3),flagCounter:this.state.gameState.bombCount});else{r=w.NEUTRAL;var s=this.state.flagCounter;if(i.bombField[t][a].state===E.COVERED){if(0===this.state.flagCounter)return;s--}else s++;l=p.flag(i,t,a),this.setState({flagCounter:s})}0!==l?-1!==l?(l.gameState===b.WIN?r=w.SMILE_SUNGLASSES:l.gameState===b.LOSS&&(r=w.SCREAM),this.setState({gameState:l,emojiState:r}),l.gameState!==b.PLAYING&&(clearInterval(this.state.timerFunc),this.setState({activeTimer:!1,timerFunc:null}))):console.log("Invalid move!"):console.log("Invalid input!")}}},{key:"handleSidebarPanelSwitch",value:function(e){e.target.value!==this.state.sidebarPanel&&this.setState({sidebarPanel:e.target.value})}},{key:"handleEmojiButton",value:function(){this.toggleSidebar(),this.setState({sidebarPanel:C.NEW_GAME_SETTINGS}),this.state.gameState.gameState===b.PLAYING&&this.setState({emojiState:w.OPEN_MOUTH})}},{key:"toggleSidebar",value:function(){this.setState({sidebarOpen:!this.state.sidebarOpen})}},{key:"toggleClickState",value:function(){var e;e=this.state.clickState===N.SWEEP?N.FLAG:N.SWEEP,this.setState({clickState:e})}},{key:"tick",value:function(){this.setState({timer:this.state.timer+1})}},{key:"renderSidebar",value:function(){var e={transform:"translateX(295px)"};this.state.sidebarOpen&&(e={transform:"translateX(0px)"});var t="<<";this.state.sidebarOpen&&(t=">>");var a=this.renderHowToPlayPanel(),n="",l="",r="";switch(this.state.sidebarPanel){case C.NEW_GAME_SETTINGS:n="selected",a=this.renderSettingsPanel();break;case C.DEVELOPMENT:r="selected",a=this.renderDevPanel();break;default:l="selected"}return i.a.createElement("div",{className:"sidebar",style:e},i.a.createElement("button",{className:"sidebar-toggle",onClick:this.toggleSidebar},t),i.a.createElement("div",{className:"sidebar-nav"},i.a.createElement("button",{className:l,onClick:this.handleSidebarPanelSwitch,value:C.HOW_TO_PLAY},C.HOW_TO_PLAY),i.a.createElement("button",{className:n,onClick:this.handleSidebarPanelSwitch,value:C.NEW_GAME_SETTINGS},C.NEW_GAME_SETTINGS),i.a.createElement("button",{className:r,onClick:this.handleSidebarPanelSwitch,value:C.DEVELOPMENT},C.DEVELOPMENT)),a)}},{key:"renderHowToPlayPanel",value:function(){return i.a.createElement("div",{className:"sidebar-panel"},i.a.createElement("h1",null,"Minesweeper"),i.a.createElement("h2",null,"Quickstart"),i.a.createElement("p",null,"If you are familiar with how to play Minesweeper already, view these instructions to quickly start playing. Otherwise, please read the ",i.a.createElement("strong",null,"how to play")," below."),i.a.createElement("h3",null,"For mouse users:"),i.a.createElement("p",null,i.a.createElement("strong",null,"Left Click")," to ",i.a.createElement("strong",null,"sweep")," the field.",i.a.createElement("strong",null,"Right Click")," to place a ",i.a.createElement("strong",null,"flag"),"."),i.a.createElement("h3",null,"For touchscreen users:"),i.a.createElement("p",null,i.a.createElement("strong",null,"Tap")," to either ",i.a.createElement("strong",null,"sweep")," or place a ",i.a.createElement("strong",null,"flag"),"."),i.a.createElement("h2",null,"How to Play"),i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Minesweeper_(video_game)#Gameplay"},"Placeholder link for how to play"))}},{key:"renderDevPanel",value:function(){return i.a.createElement("div",{className:"sidebar-panel"},"Placeholder text")}},{key:"renderSettingsPanel",value:function(){return i.a.createElement("div",{className:"sidebar-panel sidebar-settings-panel"},i.a.createElement("div",null,"Set Difficulty: ",this.state.difficulty),i.a.createElement("button",{onClick:this.handleDifficultyButton,value:v.BEGINNER},v.BEGINNER),i.a.createElement("button",{onClick:this.handleDifficultyButton,value:v.INTERMEDIATE},v.INTERMEDIATE),i.a.createElement("button",{onClick:this.handleDifficultyButton,value:v.EXPERT},v.EXPERT),i.a.createElement("div",null,"Rows: ",this.state.rowInput),i.a.createElement("input",{type:"range",min:"9",max:"30",id:"rowInput",value:this.state.rowInput,onChange:this.handleSliderChange}),i.a.createElement("div",null,"Columns: ",this.state.colInput),i.a.createElement("input",{type:"range",min:"9",max:"30",id:"colInput",value:this.state.colInput,onChange:this.handleSliderChange}),i.a.createElement("div",null,"Bombs: ",this.state.bombInput),i.a.createElement("input",{type:"range",min:"10",max:"200",id:"bombInput",value:this.state.bombInput,onChange:this.handleSliderChange}),i.a.createElement("button",{onClick:this.handleNewGameButton},"Create New Game"))}},{key:"renderCounter",value:function(e){var t=e;return t<10?t="00"+t.toString():t<100?t="0"+t.toString():t>999&&(t=999),t}},{key:"renderEmoji",value:function(){var e=this.state.emojiState,t=i.a.createElement("span",{role:"img","aria-label":"neutral face"},"\ud83d\ude10");return e===w.SMILE_SUNGLASSES?t=i.a.createElement("span",{role:"img","aria-label":"smiling face with sunglasses"},"\ud83d\ude0e"):e===w.SCREAM?t=i.a.createElement("span",{role:"img","aria-label":"face screaming in fear"},"\ud83d\ude31"):e===w.SMILE?t=i.a.createElement("span",{role:"img","aria-label":"slightly smiling face"},"\ud83d\ude42"):e===w.OPEN_MOUTH&&(t=i.a.createElement("span",{role:"img","aria-label":"face with mouth open"},"\ud83d\ude2e")),t}},{key:"renderClickState",value:function(){var e=i.a.createElement("div",{className:"bomb"});return this.state.clickState===N.FLAG&&(e=i.a.createElement("div",{className:"flag"})),e}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"game-container"},i.a.createElement("div",{className:"banner"},"For the best experience please use the Google Chrome browser on a desktop or laptop. Updates to optimize for all browsers and devices may come in the future."),i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"game-status"},i.a.createElement("div",{className:"counter-panel"},this.renderCounter(this.state.flagCounter)),i.a.createElement("div",{className:"center-panel"},i.a.createElement("button",{className:"panel-tile",onClick:this.handleEmojiButton},this.renderEmoji()),i.a.createElement("button",{className:"panel-tile",onClick:this.toggleClickState},this.renderClickState())),i.a.createElement("div",{className:"counter-panel"},this.renderCounter(this.state.timer))),i.a.createElement(S,{rows:this.state.gameState.rows,cols:this.state.gameState.cols,bombField:this.state.gameState.bombField,gameState:this.state.gameState.gameState,onClick:function(t,a,n){return e.handleBoardClick(t,a,n)}})),this.renderSidebar())}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.4ecd91a3.chunk.js.map